"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./src/components/ChessBoard.js":
/*!**************************************!*\
  !*** ./src/components/ChessBoard.js ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/_/_tagged_template_literal */ \"./node_modules/@swc/helpers/esm/_tagged_template_literal.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! styled-jsx/style */ \"./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @apollo/client */ \"./node_modules/@apollo/client/index.js\");\n\nfunction _templateObject() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  mutation MakeMove($gameId: ID!, $fromRow: Int!, $fromCol: Int!, $toRow: Int!, $toCol: Int!) {\\n    makeMove(gameId: $gameId, fromRow: $fromRow, fromCol: $fromCol, toRow: $toRow, toCol: $toCol) {\\n      fromRow\\n      fromCol\\n      toRow\\n      toCol\\n      pieceType\\n      pieceColor\\n      moveNumber\\n    }\\n  }\\n\"\n    ]);\n    _templateObject = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject1() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  query GetGame($gameId: ID!) {\\n    getGame(gameId: $gameId) {\\n      id\\n      status\\n      currentPlayer\\n      winner\\n      gameType\\n      aiDifficulty\\n      aiColor\\n      pieces {\\n        type\\n        color\\n        row\\n        col\\n        hasMoved\\n      }\\n    }\\n  }\\n\"\n    ]);\n    _templateObject1 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject2() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  query IsAITurn($gameId: ID!) {\\n    isAITurn(gameId: $gameId)\\n  }\\n\"\n    ]);\n    _templateObject2 = function() {\n        return data;\n    };\n    return data;\n}\n\nvar _s = $RefreshSig$();\n\n\n\nconst MAKE_MOVE = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_4__.gql)(_templateObject());\nconst GET_GAME = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_4__.gql)(_templateObject1());\nconst IS_AI_TURN = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_4__.gql)(_templateObject2());\nconst ChessBoard = (param)=>{\n    let { game, gameId, onMoveComplete } = param;\n    var _game_aiDifficulty;\n    _s();\n    const [selectedSquare, setSelectedSquare] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [validMoves, setValidMoves] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [moveError, setMoveError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [isAIThinking, setIsAIThinking] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [makeMove, { loading: moveLoading }] = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_4__.useMutation)(MAKE_MOVE);\n    // Query to check if it's AI's turn\n    const { data: aiTurnData, refetch: refetchAITurn } = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_4__.useQuery)(IS_AI_TURN, {\n        variables: {\n            gameId\n        },\n        skip: !(game === null || game === void 0 ? void 0 : game.gameType) || game.gameType !== \"HUMAN_VS_AI\",\n        pollInterval: (game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\" && (game === null || game === void 0 ? void 0 : game.status) === \"ACTIVE\" ? 2000 : 0\n    });\n    // Query to get updated game state\n    const { refetch: refetchGame } = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_4__.useQuery)(GET_GAME, {\n        variables: {\n            gameId\n        },\n        skip: true,\n        fetchPolicy: \"network-only\"\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if ((game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\" && (aiTurnData === null || aiTurnData === void 0 ? void 0 : aiTurnData.isAITurn) && !isAIThinking) {\n            console.log(\"AI turn detected, starting AI thinking...\");\n            setIsAIThinking(true);\n            // Wait for AI move to complete, then refetch\n            const timeout = setTimeout(async ()=>{\n                console.log(\"Checking for AI move completion...\");\n                try {\n                    const gameResult = await refetchGame();\n                    await refetchAITurn();\n                    console.log(\"Refetch completed, calling onMoveComplete\");\n                    setIsAIThinking(false);\n                    // Force the parent component to update\n                    if (onMoveComplete) {\n                        onMoveComplete();\n                    }\n                } catch (error) {\n                    console.error(\"Error during AI move refetch:\", error);\n                    setIsAIThinking(false);\n                }\n            }, 2000); // Reduced to 2 seconds since AI completes quickly\n            return ()=>clearTimeout(timeout);\n        }\n    }, [\n        aiTurnData === null || aiTurnData === void 0 ? void 0 : aiTurnData.isAITurn,\n        game === null || game === void 0 ? void 0 : game.gameType,\n        refetchGame,\n        refetchAITurn,\n        onMoveComplete,\n        isAIThinking\n    ]);\n    // Additional effect to handle when AI turn ends\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if ((game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\" && !(aiTurnData === null || aiTurnData === void 0 ? void 0 : aiTurnData.isAITurn) && isAIThinking) {\n            console.log(\"AI turn ended, stopping thinking indicator\");\n            setIsAIThinking(false);\n            if (onMoveComplete) {\n                onMoveComplete();\n            }\n        }\n    }, [\n        aiTurnData === null || aiTurnData === void 0 ? void 0 : aiTurnData.isAITurn,\n        game === null || game === void 0 ? void 0 : game.gameType,\n        isAIThinking,\n        onMoveComplete\n    ]);\n    const handleSquareClick = async (row, col)=>{\n        console.log(\"Square clicked:\", row, col);\n        // Don't allow moves during AI turn or when AI is thinking\n        if (isAIThinking || (game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\" && (aiTurnData === null || aiTurnData === void 0 ? void 0 : aiTurnData.isAITurn)) {\n            console.log(\"Blocking move - AI is thinking or it's AI turn\");\n            return;\n        }\n        // Clear any previous errors\n        setMoveError(null);\n        if (!selectedSquare) {\n            const piece = getPieceAt(row, col);\n            console.log(\"Piece at clicked square:\", piece);\n            console.log(\"Game type:\", game === null || game === void 0 ? void 0 : game.gameType);\n            console.log(\"Current player:\", game === null || game === void 0 ? void 0 : game.currentPlayer);\n            if (piece) {\n                // For AI games, human always plays white\n                if ((game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\") {\n                    if (piece.color === \"WHITE\" && game.currentPlayer === \"WHITE\") {\n                        console.log(\"Selecting WHITE piece in AI game:\", piece);\n                        setSelectedSquare({\n                            row,\n                            col\n                        });\n                        await getValidMovesForPiece(row, col);\n                    } else {\n                        console.log(\"Cannot select piece in AI game - not your turn or not your color\");\n                    }\n                } else {\n                    // Human vs Human - allow selecting current player's pieces\n                    if (piece.color === (game === null || game === void 0 ? void 0 : game.currentPlayer)) {\n                        console.log(\"Selecting piece in human game:\", piece);\n                        setSelectedSquare({\n                            row,\n                            col\n                        });\n                        await getValidMovesForPiece(row, col);\n                    } else {\n                        console.log(\"Cannot select piece - not current player\");\n                    }\n                }\n            } else {\n                console.log(\"No piece at this square\");\n            }\n        } else {\n            console.log(\"Making move from\", selectedSquare, \"to\", {\n                row,\n                col\n            });\n            try {\n                const result = await makeMove({\n                    variables: {\n                        gameId,\n                        fromRow: selectedSquare.row,\n                        fromCol: selectedSquare.col,\n                        toRow: row,\n                        toCol: col\n                    }\n                });\n                console.log(\"Move result:\", result);\n                setSelectedSquare(null);\n                setValidMoves([]);\n                // For AI games, the move completion and AI response will be handled by the useEffect\n                if ((game === null || game === void 0 ? void 0 : game.gameType) !== \"HUMAN_VS_AI\") {\n                    onMoveComplete();\n                }\n            } catch (error) {\n                console.error(\"Move error:\", error);\n                setMoveError(\"Invalid move\");\n                setSelectedSquare(null);\n                setValidMoves([]);\n            }\n        }\n    };\n    const getValidMovesForPiece = async (row, col)=>{\n        const piece = getPieceAt(row, col);\n        if (!piece) return;\n        const moves = [];\n        // Test each square on the board to see if it's a valid move\n        for(let r = 0; r < 8; r++){\n            for(let c = 0; c < 8; c++){\n                if (r === row && c === col) continue;\n                // First check basic movement pattern\n                if (isValidMovePattern(piece, row, col, r, c)) {\n                    // Then check if this move would be legal (doesn't put own king in check)\n                    if (isLegalMove(row, col, r, c)) {\n                        moves.push({\n                            row: r,\n                            col: c\n                        });\n                    }\n                }\n            }\n        }\n        setValidMoves(moves);\n    };\n    // Check if a move is legal (doesn't put own king in check)\n    const isLegalMove = (fromRow, fromCol, toRow, toCol)=>{\n        // Simulate the move\n        const simulatedGame = simulateMove(fromRow, fromCol, toRow, toCol);\n        // Check if this move would put own king in check\n        const piece = getPieceAt(fromRow, fromCol);\n        return !isKingInCheck(simulatedGame, piece.color);\n    };\n    // Simulate a move and return the resulting game state\n    const simulateMove = (fromRow, fromCol, toRow, toCol)=>{\n        if (!(game === null || game === void 0 ? void 0 : game.pieces)) return null;\n        // Create a copy of the pieces array\n        const newPieces = game.pieces.map((piece)=>({\n                ...piece\n            }));\n        // Find the piece to move\n        const pieceIndex = newPieces.findIndex((p)=>p.row === fromRow && p.col === fromCol);\n        if (pieceIndex === -1) return null;\n        // Remove any piece at destination (capture)\n        const capturedIndex = newPieces.findIndex((p)=>p.row === toRow && p.col === toCol);\n        if (capturedIndex !== -1) {\n            newPieces.splice(capturedIndex, 1);\n        }\n        // Move the piece\n        newPieces[pieceIndex] = {\n            ...newPieces[pieceIndex],\n            row: toRow,\n            col: toCol\n        };\n        return {\n            pieces: newPieces\n        };\n    };\n    // Check if a king is in check in a given game state\n    const isKingInCheck = (gameState, kingColor)=>{\n        if (!(gameState === null || gameState === void 0 ? void 0 : gameState.pieces)) return false;\n        // Find the king\n        const king = gameState.pieces.find((p)=>p.type === \"KING\" && p.color === kingColor);\n        if (!king) return false;\n        // Check if any opponent piece can attack the king\n        const opponentColor = kingColor === \"WHITE\" ? \"BLACK\" : \"WHITE\";\n        const opponentPieces = gameState.pieces.filter((p)=>p.color === opponentColor);\n        for (let piece of opponentPieces){\n            if (canPieceAttackSquare(gameState, piece, king.row, king.col)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // Check if a piece can attack a specific square\n    const canPieceAttackSquare = (gameState, piece, targetRow, targetCol)=>{\n        const rowDiff = Math.abs(targetRow - piece.row);\n        const colDiff = Math.abs(targetCol - piece.col);\n        switch(piece.type){\n            case \"PAWN\":\n                const direction = piece.color === \"WHITE\" ? -1 : 1;\n                const rowDiffSigned = targetRow - piece.row;\n                // Pawns attack diagonally\n                return colDiff === 1 && rowDiffSigned === direction;\n            case \"ROOK\":\n                return (rowDiff === 0 || colDiff === 0) && isPathClearInGame(gameState, piece.row, piece.col, targetRow, targetCol);\n            case \"BISHOP\":\n                return rowDiff === colDiff && isPathClearInGame(gameState, piece.row, piece.col, targetRow, targetCol);\n            case \"QUEEN\":\n                return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && isPathClearInGame(gameState, piece.row, piece.col, targetRow, targetCol);\n            case \"KING\":\n                return rowDiff <= 1 && colDiff <= 1;\n            case \"KNIGHT\":\n                return rowDiff === 2 && colDiff === 1 || rowDiff === 1 && colDiff === 2;\n            default:\n                return false;\n        }\n    };\n    // Check if path is clear in a given game state\n    const isPathClearInGame = (gameState, fromRow, fromCol, toRow, toCol)=>{\n        const rowStep = Math.sign(toRow - fromRow);\n        const colStep = Math.sign(toCol - fromCol);\n        let currentRow = fromRow + rowStep;\n        let currentCol = fromCol + colStep;\n        while(currentRow !== toRow || currentCol !== toCol){\n            if (gameState.pieces.find((p)=>p.row === currentRow && p.col === currentCol)) {\n                return false;\n            }\n            currentRow += rowStep;\n            currentCol += colStep;\n        }\n        return true;\n    };\n    const isValidMovePattern = (piece, fromRow, fromCol, toRow, toCol)=>{\n        const rowDiff = Math.abs(toRow - fromRow);\n        const colDiff = Math.abs(toCol - fromCol);\n        const targetPiece = getPieceAt(toRow, toCol);\n        // Can't capture your own pieces\n        if (targetPiece && targetPiece.color === piece.color) {\n            return false;\n        }\n        // Basic movement patterns (without considering check)\n        switch(piece.type){\n            case \"PAWN\":\n                const direction = piece.color === \"WHITE\" ? -1 : 1;\n                const rowDiffSigned = toRow - fromRow;\n                if (colDiff === 0) {\n                    // Forward moves\n                    if (rowDiffSigned === direction && !targetPiece) return true;\n                    if (piece.hasMoved === false && rowDiffSigned === 2 * direction && !targetPiece && !getPieceAt(fromRow + direction, fromCol)) {\n                        return true;\n                    }\n                } else if (colDiff === 1 && rowDiffSigned === direction && targetPiece) {\n                    // Diagonal captures only\n                    return true;\n                }\n                return false;\n            case \"ROOK\":\n                return (rowDiff === 0 || colDiff === 0) && isPathClearSimple(fromRow, fromCol, toRow, toCol);\n            case \"BISHOP\":\n                return rowDiff === colDiff && isPathClearSimple(fromRow, fromCol, toRow, toCol);\n            case \"QUEEN\":\n                return (rowDiff === 0 || colDiff === 0 || rowDiff === colDiff) && isPathClearSimple(fromRow, fromCol, toRow, toCol);\n            case \"KING\":\n                return rowDiff <= 1 && colDiff <= 1;\n            case \"KNIGHT\":\n                return rowDiff === 2 && colDiff === 1 || rowDiff === 1 && colDiff === 2;\n            default:\n                return false;\n        }\n    };\n    const isPathClearSimple = (fromRow, fromCol, toRow, toCol)=>{\n        const rowStep = Math.sign(toRow - fromRow);\n        const colStep = Math.sign(toCol - fromCol);\n        let currentRow = fromRow + rowStep;\n        let currentCol = fromCol + colStep;\n        while(currentRow !== toRow || currentCol !== toCol){\n            if (getPieceAt(currentRow, currentCol)) {\n                return false;\n            }\n            currentRow += rowStep;\n            currentCol += colStep;\n        }\n        return true;\n    };\n    const getPieceAt = (row, col)=>{\n        var _game_pieces;\n        return game === null || game === void 0 ? void 0 : (_game_pieces = game.pieces) === null || _game_pieces === void 0 ? void 0 : _game_pieces.find((piece)=>piece.row === row && piece.col === col);\n    };\n    const getPieceSymbol = (piece)=>{\n        var _pieceSymbols_piece_color;\n        if (!piece) return \"\";\n        const pieceSymbols = {\n            \"WHITE\": {\n                \"KING\": \"♔\",\n                \"QUEEN\": \"♕\",\n                \"ROOK\": \"♖\",\n                \"BISHOP\": \"♗\",\n                \"KNIGHT\": \"♘\",\n                \"PAWN\": \"♙\"\n            },\n            \"BLACK\": {\n                \"KING\": \"♚\",\n                \"QUEEN\": \"♛\",\n                \"ROOK\": \"♜\",\n                \"BISHOP\": \"♝\",\n                \"KNIGHT\": \"♞\",\n                \"PAWN\": \"♟\"\n            }\n        };\n        return ((_pieceSymbols_piece_color = pieceSymbols[piece.color]) === null || _pieceSymbols_piece_color === void 0 ? void 0 : _pieceSymbols_piece_color[piece.type]) || piece.type[0];\n    };\n    const isValidMoveSquare = (row, col)=>{\n        return validMoves.some((move)=>move.row === row && move.col === col);\n    };\n    const getCurrentPlayerDisplay = ()=>{\n        if ((game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\") {\n            if (game.currentPlayer === \"WHITE\") {\n                return \"Your turn\";\n            } else {\n                return isAIThinking ? \"AI is thinking...\" : \"AI's turn\";\n            }\n        } else {\n            return \"\".concat(game === null || game === void 0 ? void 0 : game.currentPlayer, \"'s turn\");\n        }\n    };\n    const isBoardDisabled = ()=>{\n        return isAIThinking || (game === null || game === void 0 ? void 0 : game.gameType) === \"HUMAN_VS_AI\" && (aiTurnData === null || aiTurnData === void 0 ? void 0 : aiTurnData.isAITurn);\n    };\n    if (!game) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        children: \"Loading...\"\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n        lineNumber: 427,\n        columnNumber: 21\n    }, undefined);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        className: \"jsx-612b2fa4b8d9c9bc\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"game-info\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"current-player\",\n                        children: getCurrentPlayerDisplay()\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                        lineNumber: 432,\n                        columnNumber: 9\n                    }, undefined),\n                    game.gameType === \"HUMAN_VS_AI\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"game-type-info\",\n                        children: [\n                            \"Playing against AI (\",\n                            (_game_aiDifficulty = game.aiDifficulty) === null || _game_aiDifficulty === void 0 ? void 0 : _game_aiDifficulty.toLowerCase(),\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                        lineNumber: 436,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                lineNumber: 431,\n                columnNumber: 7\n            }, undefined),\n            moveError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                style: {\n                    color: \"red\",\n                    marginBottom: \"10px\"\n                },\n                className: \"jsx-612b2fa4b8d9c9bc\",\n                children: moveError\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                lineNumber: 443,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"chess-board \".concat(isBoardDisabled() ? \"disabled\" : \"\"),\n                children: Array.from({\n                    length: 8\n                }, (_, row)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"chess-row\",\n                        children: Array.from({\n                            length: 8\n                        }, (_, col)=>{\n                            const piece = getPieceAt(row, col);\n                            const isSelected = selectedSquare && selectedSquare.row === row && selectedSquare.col === col;\n                            const isValidMove = isValidMoveSquare(row, col);\n                            const isLight = (row + col) % 2 === 0;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                onClick: ()=>handleSquareClick(row, col),\n                                style: {\n                                    cursor: isBoardDisabled() ? \"not-allowed\" : \"pointer\",\n                                    opacity: isBoardDisabled() ? 0.7 : 1\n                                },\n                                className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"chess-square \".concat(isLight ? \"light\" : \"dark\", \" \").concat(isSelected ? \"selected\" : \"\"),\n                                children: [\n                                    isValidMove && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                        className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"valid-move-overlay\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                                        lineNumber: 467,\n                                        columnNumber: 35\n                                    }, undefined),\n                                    piece && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                        className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"piece\",\n                                        children: getPieceSymbol(piece)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                                        lineNumber: 469,\n                                        columnNumber: 21\n                                    }, undefined)\n                                ]\n                            }, col, true, {\n                                fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                                lineNumber: 458,\n                                columnNumber: 17\n                            }, undefined);\n                        })\n                    }, row, false, {\n                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                        lineNumber: 450,\n                        columnNumber: 11\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                lineNumber: 448,\n                columnNumber: 7\n            }, undefined),\n            isAIThinking && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"ai-thinking-indicator\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"jsx-612b2fa4b8d9c9bc\" + \" \" + \"spinner\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                        lineNumber: 482,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                        className: \"jsx-612b2fa4b8d9c9bc\",\n                        children: \"AI is thinking...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                        lineNumber: 483,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n                lineNumber: 481,\n                columnNumber: 9\n            }, undefined),\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_2___default()), {\n                id: \"612b2fa4b8d9c9bc\",\n                children: \".game-info.jsx-612b2fa4b8d9c9bc{margin-bottom:15px;text-align:center}.current-player.jsx-612b2fa4b8d9c9bc{font-size:18px;font-weight:bold;color:#333;margin-bottom:5px}.game-type-info.jsx-612b2fa4b8d9c9bc{font-size:14px;color:#666}.chess-board.disabled.jsx-612b2fa4b8d9c9bc{pointer-events:none}.ai-thinking-indicator.jsx-612b2fa4b8d9c9bc{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:15px;padding:10px;background-color:#f8f9fa;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;font-size:14px;color:#666}.spinner.jsx-612b2fa4b8d9c9bc{width:20px;height:20px;border:2px solid#f3f3f3;border-top:2px solid#007bff;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-animation:spin 1s linear infinite;-moz-animation:spin 1s linear infinite;-o-animation:spin 1s linear infinite;animation:spin 1s linear infinite;margin-right:10px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}\"\n            }, void 0, false, void 0, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Harry Miller\\\\chess-game\\\\frontend\\\\src\\\\components\\\\ChessBoard.js\",\n        lineNumber: 430,\n        columnNumber: 5\n    }, undefined);\n};\n_s(ChessBoard, \"RTrlxI4R0l4L/08nhzN3mH7WU+4=\", false, function() {\n    return [\n        _apollo_client__WEBPACK_IMPORTED_MODULE_4__.useMutation,\n        _apollo_client__WEBPACK_IMPORTED_MODULE_4__.useQuery,\n        _apollo_client__WEBPACK_IMPORTED_MODULE_4__.useQuery\n    ];\n});\n_c = ChessBoard;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChessBoard);\nvar _c;\n$RefreshReg$(_c, \"ChessBoard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qm9hcmQuanM/ZDgzYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5LCBncWwgfSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5cbmNvbnN0IE1BS0VfTU9WRSA9IGdxbGBcbiAgbXV0YXRpb24gTWFrZU1vdmUoJGdhbWVJZDogSUQhLCAkZnJvbVJvdzogSW50ISwgJGZyb21Db2w6IEludCEsICR0b1JvdzogSW50ISwgJHRvQ29sOiBJbnQhKSB7XG4gICAgbWFrZU1vdmUoZ2FtZUlkOiAkZ2FtZUlkLCBmcm9tUm93OiAkZnJvbVJvdywgZnJvbUNvbDogJGZyb21Db2wsIHRvUm93OiAkdG9Sb3csIHRvQ29sOiAkdG9Db2wpIHtcbiAgICAgIGZyb21Sb3dcbiAgICAgIGZyb21Db2xcbiAgICAgIHRvUm93XG4gICAgICB0b0NvbFxuICAgICAgcGllY2VUeXBlXG4gICAgICBwaWVjZUNvbG9yXG4gICAgICBtb3ZlTnVtYmVyXG4gICAgfVxuICB9XG5gO1xuXG5jb25zdCBHRVRfR0FNRSA9IGdxbGBcbiAgcXVlcnkgR2V0R2FtZSgkZ2FtZUlkOiBJRCEpIHtcbiAgICBnZXRHYW1lKGdhbWVJZDogJGdhbWVJZCkge1xuICAgICAgaWRcbiAgICAgIHN0YXR1c1xuICAgICAgY3VycmVudFBsYXllclxuICAgICAgd2lubmVyXG4gICAgICBnYW1lVHlwZVxuICAgICAgYWlEaWZmaWN1bHR5XG4gICAgICBhaUNvbG9yXG4gICAgICBwaWVjZXMge1xuICAgICAgICB0eXBlXG4gICAgICAgIGNvbG9yXG4gICAgICAgIHJvd1xuICAgICAgICBjb2xcbiAgICAgICAgaGFzTW92ZWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbmA7XG5cbmNvbnN0IElTX0FJX1RVUk4gPSBncWxgXG4gIHF1ZXJ5IElzQUlUdXJuKCRnYW1lSWQ6IElEISkge1xuICAgIGlzQUlUdXJuKGdhbWVJZDogJGdhbWVJZClcbiAgfVxuYDtcblxuY29uc3QgQ2hlc3NCb2FyZCA9ICh7IGdhbWUsIGdhbWVJZCwgb25Nb3ZlQ29tcGxldGUgfSkgPT4ge1xuICBjb25zdCBbc2VsZWN0ZWRTcXVhcmUsIHNldFNlbGVjdGVkU3F1YXJlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbdmFsaWRNb3Zlcywgc2V0VmFsaWRNb3Zlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttb3ZlRXJyb3IsIHNldE1vdmVFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2lzQUlUaGlua2luZywgc2V0SXNBSVRoaW5raW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21ha2VNb3ZlLCB7IGxvYWRpbmc6IG1vdmVMb2FkaW5nIH1dID0gdXNlTXV0YXRpb24oTUFLRV9NT1ZFKTtcbiAgXG4gIC8vIFF1ZXJ5IHRvIGNoZWNrIGlmIGl0J3MgQUkncyB0dXJuXG4gIGNvbnN0IHsgZGF0YTogYWlUdXJuRGF0YSwgcmVmZXRjaDogcmVmZXRjaEFJVHVybiB9ID0gdXNlUXVlcnkoSVNfQUlfVFVSTiwge1xuICAgIHZhcmlhYmxlczogeyBnYW1lSWQgfSxcbiAgICBza2lwOiAhZ2FtZT8uZ2FtZVR5cGUgfHwgZ2FtZS5nYW1lVHlwZSAhPT0gJ0hVTUFOX1ZTX0FJJyxcbiAgICBwb2xsSW50ZXJ2YWw6IGdhbWU/LmdhbWVUeXBlID09PSAnSFVNQU5fVlNfQUknICYmIGdhbWU/LnN0YXR1cyA9PT0gJ0FDVElWRScgPyAyMDAwIDogMCwgLy8gUG9sbCBldmVyeSAyIHNlY29uZHMgZm9yIGFjdGl2ZSBBSSBnYW1lc1xuICB9KTtcbiAgXG4gIC8vIFF1ZXJ5IHRvIGdldCB1cGRhdGVkIGdhbWUgc3RhdGVcbiAgY29uc3QgeyByZWZldGNoOiByZWZldGNoR2FtZSB9ID0gdXNlUXVlcnkoR0VUX0dBTUUsIHtcbiAgICB2YXJpYWJsZXM6IHsgZ2FtZUlkIH0sXG4gICAgc2tpcDogdHJ1ZSwgLy8gV2UnbGwgbWFudWFsbHkgcmVmZXRjaCB3aGVuIG5lZWRlZFxuICAgIGZldGNoUG9saWN5OiAnbmV0d29yay1vbmx5JywgLy8gQWx3YXlzIGZldGNoIGZyb20gbmV0d29yaywgbm90IGNhY2hlXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdhbWU/LmdhbWVUeXBlID09PSAnSFVNQU5fVlNfQUknICYmIGFpVHVybkRhdGE/LmlzQUlUdXJuICYmICFpc0FJVGhpbmtpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBSSB0dXJuIGRldGVjdGVkLCBzdGFydGluZyBBSSB0aGlua2luZy4uLicpO1xuICAgICAgc2V0SXNBSVRoaW5raW5nKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBBSSBtb3ZlIHRvIGNvbXBsZXRlLCB0aGVuIHJlZmV0Y2hcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0NoZWNraW5nIGZvciBBSSBtb3ZlIGNvbXBsZXRpb24uLi4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBnYW1lUmVzdWx0ID0gYXdhaXQgcmVmZXRjaEdhbWUoKTtcbiAgICAgICAgICBhd2FpdCByZWZldGNoQUlUdXJuKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1JlZmV0Y2ggY29tcGxldGVkLCBjYWxsaW5nIG9uTW92ZUNvbXBsZXRlJyk7XG4gICAgICAgICAgc2V0SXNBSVRoaW5raW5nKGZhbHNlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb3JjZSB0aGUgcGFyZW50IGNvbXBvbmVudCB0byB1cGRhdGVcbiAgICAgICAgICBpZiAob25Nb3ZlQ29tcGxldGUpIHtcbiAgICAgICAgICAgIG9uTW92ZUNvbXBsZXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBBSSBtb3ZlIHJlZmV0Y2g6JywgZXJyb3IpO1xuICAgICAgICAgIHNldElzQUlUaGlua2luZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDIwMDApOyAvLyBSZWR1Y2VkIHRvIDIgc2Vjb25kcyBzaW5jZSBBSSBjb21wbGV0ZXMgcXVpY2tseVxuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH1cbiAgfSwgW2FpVHVybkRhdGE/LmlzQUlUdXJuLCBnYW1lPy5nYW1lVHlwZSwgcmVmZXRjaEdhbWUsIHJlZmV0Y2hBSVR1cm4sIG9uTW92ZUNvbXBsZXRlLCBpc0FJVGhpbmtpbmddKTtcblxuICAvLyBBZGRpdGlvbmFsIGVmZmVjdCB0byBoYW5kbGUgd2hlbiBBSSB0dXJuIGVuZHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2FtZT8uZ2FtZVR5cGUgPT09ICdIVU1BTl9WU19BSScgJiYgIWFpVHVybkRhdGE/LmlzQUlUdXJuICYmIGlzQUlUaGlua2luZykge1xuICAgICAgY29uc29sZS5sb2coJ0FJIHR1cm4gZW5kZWQsIHN0b3BwaW5nIHRoaW5raW5nIGluZGljYXRvcicpO1xuICAgICAgc2V0SXNBSVRoaW5raW5nKGZhbHNlKTtcbiAgICAgIGlmIChvbk1vdmVDb21wbGV0ZSkge1xuICAgICAgICBvbk1vdmVDb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2FpVHVybkRhdGE/LmlzQUlUdXJuLCBnYW1lPy5nYW1lVHlwZSwgaXNBSVRoaW5raW5nLCBvbk1vdmVDb21wbGV0ZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVNxdWFyZUNsaWNrID0gYXN5bmMgKHJvdywgY29sKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1NxdWFyZSBjbGlja2VkOicsIHJvdywgY29sKTtcbiAgICBcbiAgICAvLyBEb24ndCBhbGxvdyBtb3ZlcyBkdXJpbmcgQUkgdHVybiBvciB3aGVuIEFJIGlzIHRoaW5raW5nXG4gICAgaWYgKGlzQUlUaGlua2luZyB8fCAoZ2FtZT8uZ2FtZVR5cGUgPT09ICdIVU1BTl9WU19BSScgJiYgYWlUdXJuRGF0YT8uaXNBSVR1cm4pKSB7XG4gICAgICBjb25zb2xlLmxvZygnQmxvY2tpbmcgbW92ZSAtIEFJIGlzIHRoaW5raW5nIG9yIGl0XFwncyBBSSB0dXJuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIGFueSBwcmV2aW91cyBlcnJvcnNcbiAgICBzZXRNb3ZlRXJyb3IobnVsbCk7XG4gICAgXG4gICAgaWYgKCFzZWxlY3RlZFNxdWFyZSkge1xuICAgICAgY29uc3QgcGllY2UgPSBnZXRQaWVjZUF0KHJvdywgY29sKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQaWVjZSBhdCBjbGlja2VkIHNxdWFyZTonLCBwaWVjZSk7XG4gICAgICBjb25zb2xlLmxvZygnR2FtZSB0eXBlOicsIGdhbWU/LmdhbWVUeXBlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IHBsYXllcjonLCBnYW1lPy5jdXJyZW50UGxheWVyKTtcbiAgICAgIFxuICAgICAgaWYgKHBpZWNlKSB7XG4gICAgICAgIC8vIEZvciBBSSBnYW1lcywgaHVtYW4gYWx3YXlzIHBsYXlzIHdoaXRlXG4gICAgICAgIGlmIChnYW1lPy5nYW1lVHlwZSA9PT0gJ0hVTUFOX1ZTX0FJJykge1xuICAgICAgICAgIGlmIChwaWVjZS5jb2xvciA9PT0gJ1dISVRFJyAmJiBnYW1lLmN1cnJlbnRQbGF5ZXIgPT09ICdXSElURScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RpbmcgV0hJVEUgcGllY2UgaW4gQUkgZ2FtZTonLCBwaWVjZSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZFNxdWFyZSh7IHJvdywgY29sIH0pO1xuICAgICAgICAgICAgYXdhaXQgZ2V0VmFsaWRNb3Zlc0ZvclBpZWNlKHJvdywgY29sKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCBzZWxlY3QgcGllY2UgaW4gQUkgZ2FtZSAtIG5vdCB5b3VyIHR1cm4gb3Igbm90IHlvdXIgY29sb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSHVtYW4gdnMgSHVtYW4gLSBhbGxvdyBzZWxlY3RpbmcgY3VycmVudCBwbGF5ZXIncyBwaWVjZXNcbiAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT09IGdhbWU/LmN1cnJlbnRQbGF5ZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RpbmcgcGllY2UgaW4gaHVtYW4gZ2FtZTonLCBwaWVjZSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZFNxdWFyZSh7IHJvdywgY29sIH0pO1xuICAgICAgICAgICAgYXdhaXQgZ2V0VmFsaWRNb3Zlc0ZvclBpZWNlKHJvdywgY29sKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Nhbm5vdCBzZWxlY3QgcGllY2UgLSBub3QgY3VycmVudCBwbGF5ZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdObyBwaWVjZSBhdCB0aGlzIHNxdWFyZScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnTWFraW5nIG1vdmUgZnJvbScsIHNlbGVjdGVkU3F1YXJlLCAndG8nLCB7IHJvdywgY29sIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFrZU1vdmUoe1xuICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgZ2FtZUlkLFxuICAgICAgICAgICAgZnJvbVJvdzogc2VsZWN0ZWRTcXVhcmUucm93LFxuICAgICAgICAgICAgZnJvbUNvbDogc2VsZWN0ZWRTcXVhcmUuY29sLFxuICAgICAgICAgICAgdG9Sb3c6IHJvdyxcbiAgICAgICAgICAgIHRvQ29sOiBjb2wsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNb3ZlIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgICBzZXRTZWxlY3RlZFNxdWFyZShudWxsKTtcbiAgICAgICAgc2V0VmFsaWRNb3ZlcyhbXSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgQUkgZ2FtZXMsIHRoZSBtb3ZlIGNvbXBsZXRpb24gYW5kIEFJIHJlc3BvbnNlIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgdXNlRWZmZWN0XG4gICAgICAgIGlmIChnYW1lPy5nYW1lVHlwZSAhPT0gJ0hVTUFOX1ZTX0FJJykge1xuICAgICAgICAgIG9uTW92ZUNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ01vdmUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICBzZXRNb3ZlRXJyb3IoJ0ludmFsaWQgbW92ZScpO1xuICAgICAgICBzZXRTZWxlY3RlZFNxdWFyZShudWxsKTtcbiAgICAgICAgc2V0VmFsaWRNb3ZlcyhbXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFZhbGlkTW92ZXNGb3JQaWVjZSA9IGFzeW5jIChyb3csIGNvbCkgPT4ge1xuICAgIGNvbnN0IHBpZWNlID0gZ2V0UGllY2VBdChyb3csIGNvbCk7XG4gICAgaWYgKCFwaWVjZSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbW92ZXMgPSBbXTtcbiAgICBcbiAgICAvLyBUZXN0IGVhY2ggc3F1YXJlIG9uIHRoZSBib2FyZCB0byBzZWUgaWYgaXQncyBhIHZhbGlkIG1vdmVcbiAgICBmb3IgKGxldCByID0gMDsgciA8IDg7IHIrKykge1xuICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCA4OyBjKyspIHtcbiAgICAgICAgaWYgKHIgPT09IHJvdyAmJiBjID09PSBjb2wpIGNvbnRpbnVlO1xuICAgICAgICBcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgYmFzaWMgbW92ZW1lbnQgcGF0dGVyblxuICAgICAgICBpZiAoaXNWYWxpZE1vdmVQYXR0ZXJuKHBpZWNlLCByb3csIGNvbCwgciwgYykpIHtcbiAgICAgICAgICAvLyBUaGVuIGNoZWNrIGlmIHRoaXMgbW92ZSB3b3VsZCBiZSBsZWdhbCAoZG9lc24ndCBwdXQgb3duIGtpbmcgaW4gY2hlY2spXG4gICAgICAgICAgaWYgKGlzTGVnYWxNb3ZlKHJvdywgY29sLCByLCBjKSkge1xuICAgICAgICAgICAgbW92ZXMucHVzaCh7IHJvdzogciwgY29sOiBjIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRWYWxpZE1vdmVzKG1vdmVzKTtcbiAgfTtcblxuICAvLyBDaGVjayBpZiBhIG1vdmUgaXMgbGVnYWwgKGRvZXNuJ3QgcHV0IG93biBraW5nIGluIGNoZWNrKVxuICBjb25zdCBpc0xlZ2FsTW92ZSA9IChmcm9tUm93LCBmcm9tQ29sLCB0b1JvdywgdG9Db2wpID0+IHtcbiAgICAvLyBTaW11bGF0ZSB0aGUgbW92ZVxuICAgIGNvbnN0IHNpbXVsYXRlZEdhbWUgPSBzaW11bGF0ZU1vdmUoZnJvbVJvdywgZnJvbUNvbCwgdG9Sb3csIHRvQ29sKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGlzIG1vdmUgd291bGQgcHV0IG93biBraW5nIGluIGNoZWNrXG4gICAgY29uc3QgcGllY2UgPSBnZXRQaWVjZUF0KGZyb21Sb3csIGZyb21Db2wpO1xuICAgIHJldHVybiAhaXNLaW5nSW5DaGVjayhzaW11bGF0ZWRHYW1lLCBwaWVjZS5jb2xvcik7XG4gIH07XG5cbiAgLy8gU2ltdWxhdGUgYSBtb3ZlIGFuZCByZXR1cm4gdGhlIHJlc3VsdGluZyBnYW1lIHN0YXRlXG4gIGNvbnN0IHNpbXVsYXRlTW92ZSA9IChmcm9tUm93LCBmcm9tQ29sLCB0b1JvdywgdG9Db2wpID0+IHtcbiAgICBpZiAoIWdhbWU/LnBpZWNlcykgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgY29weSBvZiB0aGUgcGllY2VzIGFycmF5XG4gICAgY29uc3QgbmV3UGllY2VzID0gZ2FtZS5waWVjZXMubWFwKHBpZWNlID0+ICh7XG4gICAgICAuLi5waWVjZVxuICAgIH0pKTtcbiAgICBcbiAgICAvLyBGaW5kIHRoZSBwaWVjZSB0byBtb3ZlXG4gICAgY29uc3QgcGllY2VJbmRleCA9IG5ld1BpZWNlcy5maW5kSW5kZXgocCA9PiBwLnJvdyA9PT0gZnJvbVJvdyAmJiBwLmNvbCA9PT0gZnJvbUNvbCk7XG4gICAgaWYgKHBpZWNlSW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICAvLyBSZW1vdmUgYW55IHBpZWNlIGF0IGRlc3RpbmF0aW9uIChjYXB0dXJlKVxuICAgIGNvbnN0IGNhcHR1cmVkSW5kZXggPSBuZXdQaWVjZXMuZmluZEluZGV4KHAgPT4gcC5yb3cgPT09IHRvUm93ICYmIHAuY29sID09PSB0b0NvbCk7XG4gICAgaWYgKGNhcHR1cmVkSW5kZXggIT09IC0xKSB7XG4gICAgICBuZXdQaWVjZXMuc3BsaWNlKGNhcHR1cmVkSW5kZXgsIDEpO1xuICAgIH1cbiAgICBcbiAgICAvLyBNb3ZlIHRoZSBwaWVjZVxuICAgIG5ld1BpZWNlc1twaWVjZUluZGV4XSA9IHtcbiAgICAgIC4uLm5ld1BpZWNlc1twaWVjZUluZGV4XSxcbiAgICAgIHJvdzogdG9Sb3csXG4gICAgICBjb2w6IHRvQ29sXG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4geyBwaWVjZXM6IG5ld1BpZWNlcyB9O1xuICB9O1xuXG4gIC8vIENoZWNrIGlmIGEga2luZyBpcyBpbiBjaGVjayBpbiBhIGdpdmVuIGdhbWUgc3RhdGVcbiAgY29uc3QgaXNLaW5nSW5DaGVjayA9IChnYW1lU3RhdGUsIGtpbmdDb2xvcikgPT4ge1xuICAgIGlmICghZ2FtZVN0YXRlPy5waWVjZXMpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBGaW5kIHRoZSBraW5nXG4gICAgY29uc3Qga2luZyA9IGdhbWVTdGF0ZS5waWVjZXMuZmluZChwID0+IHAudHlwZSA9PT0gJ0tJTkcnICYmIHAuY29sb3IgPT09IGtpbmdDb2xvcik7XG4gICAgaWYgKCFraW5nKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgYW55IG9wcG9uZW50IHBpZWNlIGNhbiBhdHRhY2sgdGhlIGtpbmdcbiAgICBjb25zdCBvcHBvbmVudENvbG9yID0ga2luZ0NvbG9yID09PSAnV0hJVEUnID8gJ0JMQUNLJyA6ICdXSElURSc7XG4gICAgY29uc3Qgb3Bwb25lbnRQaWVjZXMgPSBnYW1lU3RhdGUucGllY2VzLmZpbHRlcihwID0+IHAuY29sb3IgPT09IG9wcG9uZW50Q29sb3IpO1xuICAgIFxuICAgIGZvciAobGV0IHBpZWNlIG9mIG9wcG9uZW50UGllY2VzKSB7XG4gICAgICBpZiAoY2FuUGllY2VBdHRhY2tTcXVhcmUoZ2FtZVN0YXRlLCBwaWVjZSwga2luZy5yb3csIGtpbmcuY29sKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIENoZWNrIGlmIGEgcGllY2UgY2FuIGF0dGFjayBhIHNwZWNpZmljIHNxdWFyZVxuICBjb25zdCBjYW5QaWVjZUF0dGFja1NxdWFyZSA9IChnYW1lU3RhdGUsIHBpZWNlLCB0YXJnZXRSb3csIHRhcmdldENvbCkgPT4ge1xuICAgIGNvbnN0IHJvd0RpZmYgPSBNYXRoLmFicyh0YXJnZXRSb3cgLSBwaWVjZS5yb3cpO1xuICAgIGNvbnN0IGNvbERpZmYgPSBNYXRoLmFicyh0YXJnZXRDb2wgLSBwaWVjZS5jb2wpO1xuICAgIFxuICAgIHN3aXRjaCAocGllY2UudHlwZSkge1xuICAgICAgY2FzZSAnUEFXTic6XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHBpZWNlLmNvbG9yID09PSAnV0hJVEUnID8gLTEgOiAxO1xuICAgICAgICBjb25zdCByb3dEaWZmU2lnbmVkID0gdGFyZ2V0Um93IC0gcGllY2Uucm93O1xuICAgICAgICAvLyBQYXducyBhdHRhY2sgZGlhZ29uYWxseVxuICAgICAgICByZXR1cm4gY29sRGlmZiA9PT0gMSAmJiByb3dEaWZmU2lnbmVkID09PSBkaXJlY3Rpb247XG4gICAgICAgIFxuICAgICAgY2FzZSAnUk9PSyc6XG4gICAgICAgIHJldHVybiAocm93RGlmZiA9PT0gMCB8fCBjb2xEaWZmID09PSAwKSAmJiBpc1BhdGhDbGVhckluR2FtZShnYW1lU3RhdGUsIHBpZWNlLnJvdywgcGllY2UuY29sLCB0YXJnZXRSb3csIHRhcmdldENvbCk7XG4gICAgICAgIFxuICAgICAgY2FzZSAnQklTSE9QJzpcbiAgICAgICAgcmV0dXJuIChyb3dEaWZmID09PSBjb2xEaWZmKSAmJiBpc1BhdGhDbGVhckluR2FtZShnYW1lU3RhdGUsIHBpZWNlLnJvdywgcGllY2UuY29sLCB0YXJnZXRSb3csIHRhcmdldENvbCk7XG4gICAgICAgIFxuICAgICAgY2FzZSAnUVVFRU4nOlxuICAgICAgICByZXR1cm4gKHJvd0RpZmYgPT09IDAgfHwgY29sRGlmZiA9PT0gMCB8fCByb3dEaWZmID09PSBjb2xEaWZmKSAmJiBcbiAgICAgICAgICAgICAgIGlzUGF0aENsZWFySW5HYW1lKGdhbWVTdGF0ZSwgcGllY2Uucm93LCBwaWVjZS5jb2wsIHRhcmdldFJvdywgdGFyZ2V0Q29sKTtcbiAgICAgICAgICAgICAgIFxuICAgICAgY2FzZSAnS0lORyc6XG4gICAgICAgIHJldHVybiByb3dEaWZmIDw9IDEgJiYgY29sRGlmZiA8PSAxO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ0tOSUdIVCc6XG4gICAgICAgIHJldHVybiAocm93RGlmZiA9PT0gMiAmJiBjb2xEaWZmID09PSAxKSB8fCAocm93RGlmZiA9PT0gMSAmJiBjb2xEaWZmID09PSAyKTtcbiAgICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIHBhdGggaXMgY2xlYXIgaW4gYSBnaXZlbiBnYW1lIHN0YXRlXG4gIGNvbnN0IGlzUGF0aENsZWFySW5HYW1lID0gKGdhbWVTdGF0ZSwgZnJvbVJvdywgZnJvbUNvbCwgdG9Sb3csIHRvQ29sKSA9PiB7XG4gICAgY29uc3Qgcm93U3RlcCA9IE1hdGguc2lnbih0b1JvdyAtIGZyb21Sb3cpO1xuICAgIGNvbnN0IGNvbFN0ZXAgPSBNYXRoLnNpZ24odG9Db2wgLSBmcm9tQ29sKTtcbiAgICBcbiAgICBsZXQgY3VycmVudFJvdyA9IGZyb21Sb3cgKyByb3dTdGVwO1xuICAgIGxldCBjdXJyZW50Q29sID0gZnJvbUNvbCArIGNvbFN0ZXA7XG4gICAgXG4gICAgd2hpbGUgKGN1cnJlbnRSb3cgIT09IHRvUm93IHx8IGN1cnJlbnRDb2wgIT09IHRvQ29sKSB7XG4gICAgICBpZiAoZ2FtZVN0YXRlLnBpZWNlcy5maW5kKHAgPT4gcC5yb3cgPT09IGN1cnJlbnRSb3cgJiYgcC5jb2wgPT09IGN1cnJlbnRDb2wpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRSb3cgKz0gcm93U3RlcDtcbiAgICAgIGN1cnJlbnRDb2wgKz0gY29sU3RlcDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgY29uc3QgaXNWYWxpZE1vdmVQYXR0ZXJuID0gKHBpZWNlLCBmcm9tUm93LCBmcm9tQ29sLCB0b1JvdywgdG9Db2wpID0+IHtcbiAgICBjb25zdCByb3dEaWZmID0gTWF0aC5hYnModG9Sb3cgLSBmcm9tUm93KTtcbiAgICBjb25zdCBjb2xEaWZmID0gTWF0aC5hYnModG9Db2wgLSBmcm9tQ29sKTtcbiAgICBjb25zdCB0YXJnZXRQaWVjZSA9IGdldFBpZWNlQXQodG9Sb3csIHRvQ29sKTtcbiAgICBcbiAgICAvLyBDYW4ndCBjYXB0dXJlIHlvdXIgb3duIHBpZWNlc1xuICAgIGlmICh0YXJnZXRQaWVjZSAmJiB0YXJnZXRQaWVjZS5jb2xvciA9PT0gcGllY2UuY29sb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgLy8gQmFzaWMgbW92ZW1lbnQgcGF0dGVybnMgKHdpdGhvdXQgY29uc2lkZXJpbmcgY2hlY2spXG4gICAgc3dpdGNoIChwaWVjZS50eXBlKSB7XG4gICAgICBjYXNlICdQQVdOJzpcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gcGllY2UuY29sb3IgPT09ICdXSElURScgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHJvd0RpZmZTaWduZWQgPSB0b1JvdyAtIGZyb21Sb3c7XG4gICAgICAgIFxuICAgICAgICBpZiAoY29sRGlmZiA9PT0gMCkge1xuICAgICAgICAgIC8vIEZvcndhcmQgbW92ZXNcbiAgICAgICAgICBpZiAocm93RGlmZlNpZ25lZCA9PT0gZGlyZWN0aW9uICYmICF0YXJnZXRQaWVjZSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgaWYgKHBpZWNlLmhhc01vdmVkID09PSBmYWxzZSAmJiByb3dEaWZmU2lnbmVkID09PSAyICogZGlyZWN0aW9uICYmICF0YXJnZXRQaWVjZSAmJiAhZ2V0UGllY2VBdChmcm9tUm93ICsgZGlyZWN0aW9uLCBmcm9tQ29sKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbERpZmYgPT09IDEgJiYgcm93RGlmZlNpZ25lZCA9PT0gZGlyZWN0aW9uICYmIHRhcmdldFBpZWNlKSB7XG4gICAgICAgICAgLy8gRGlhZ29uYWwgY2FwdHVyZXMgb25seVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgXG4gICAgICBjYXNlICdST09LJzpcbiAgICAgICAgcmV0dXJuIChyb3dEaWZmID09PSAwIHx8IGNvbERpZmYgPT09IDApICYmIGlzUGF0aENsZWFyU2ltcGxlKGZyb21Sb3csIGZyb21Db2wsIHRvUm93LCB0b0NvbCk7XG4gICAgICAgIFxuICAgICAgY2FzZSAnQklTSE9QJzpcbiAgICAgICAgcmV0dXJuIChyb3dEaWZmID09PSBjb2xEaWZmKSAmJiBpc1BhdGhDbGVhclNpbXBsZShmcm9tUm93LCBmcm9tQ29sLCB0b1JvdywgdG9Db2wpO1xuICAgICAgICBcbiAgICAgIGNhc2UgJ1FVRUVOJzpcbiAgICAgICAgcmV0dXJuIChyb3dEaWZmID09PSAwIHx8IGNvbERpZmYgPT09IDAgfHwgcm93RGlmZiA9PT0gY29sRGlmZikgJiYgXG4gICAgICAgICAgICAgICBpc1BhdGhDbGVhclNpbXBsZShmcm9tUm93LCBmcm9tQ29sLCB0b1JvdywgdG9Db2wpO1xuICAgICAgICAgICAgICAgXG4gICAgICBjYXNlICdLSU5HJzpcbiAgICAgICAgcmV0dXJuIHJvd0RpZmYgPD0gMSAmJiBjb2xEaWZmIDw9IDE7XG4gICAgICAgIFxuICAgICAgY2FzZSAnS05JR0hUJzpcbiAgICAgICAgcmV0dXJuIChyb3dEaWZmID09PSAyICYmIGNvbERpZmYgPT09IDEpIHx8IChyb3dEaWZmID09PSAxICYmIGNvbERpZmYgPT09IDIpO1xuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaXNQYXRoQ2xlYXJTaW1wbGUgPSAoZnJvbVJvdywgZnJvbUNvbCwgdG9Sb3csIHRvQ29sKSA9PiB7XG4gICAgY29uc3Qgcm93U3RlcCA9IE1hdGguc2lnbih0b1JvdyAtIGZyb21Sb3cpO1xuICAgIGNvbnN0IGNvbFN0ZXAgPSBNYXRoLnNpZ24odG9Db2wgLSBmcm9tQ29sKTtcbiAgICBcbiAgICBsZXQgY3VycmVudFJvdyA9IGZyb21Sb3cgKyByb3dTdGVwO1xuICAgIGxldCBjdXJyZW50Q29sID0gZnJvbUNvbCArIGNvbFN0ZXA7XG4gICAgXG4gICAgd2hpbGUgKGN1cnJlbnRSb3cgIT09IHRvUm93IHx8IGN1cnJlbnRDb2wgIT09IHRvQ29sKSB7XG4gICAgICBpZiAoZ2V0UGllY2VBdChjdXJyZW50Um93LCBjdXJyZW50Q29sKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjdXJyZW50Um93ICs9IHJvd1N0ZXA7XG4gICAgICBjdXJyZW50Q29sICs9IGNvbFN0ZXA7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IGdldFBpZWNlQXQgPSAocm93LCBjb2wpID0+IHtcbiAgICByZXR1cm4gZ2FtZT8ucGllY2VzPy5maW5kKHBpZWNlID0+IHBpZWNlLnJvdyA9PT0gcm93ICYmIHBpZWNlLmNvbCA9PT0gY29sKTtcbiAgfTtcblxuICBjb25zdCBnZXRQaWVjZVN5bWJvbCA9IChwaWVjZSkgPT4ge1xuICAgIGlmICghcGllY2UpIHJldHVybiAnJztcbiAgICBcbiAgICBjb25zdCBwaWVjZVN5bWJvbHMgPSB7XG4gICAgICAnV0hJVEUnOiB7XG4gICAgICAgICdLSU5HJzogJ+KZlCcsXG4gICAgICAgICdRVUVFTic6ICfimZUnLCBcbiAgICAgICAgJ1JPT0snOiAn4pmWJyxcbiAgICAgICAgJ0JJU0hPUCc6ICfimZcnLFxuICAgICAgICAnS05JR0hUJzogJ+KZmCcsXG4gICAgICAgICdQQVdOJzogJ+KZmSdcbiAgICAgIH0sXG4gICAgICAnQkxBQ0snOiB7XG4gICAgICAgICdLSU5HJzogJ+KZmicsXG4gICAgICAgICdRVUVFTic6ICfimZsnLFxuICAgICAgICAnUk9PSyc6ICfimZwnLCBcbiAgICAgICAgJ0JJU0hPUCc6ICfimZ0nLFxuICAgICAgICAnS05JR0hUJzogJ+KZnicsXG4gICAgICAgICdQQVdOJzogJ+KZnydcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBwaWVjZVN5bWJvbHNbcGllY2UuY29sb3JdPy5bcGllY2UudHlwZV0gfHwgcGllY2UudHlwZVswXTtcbiAgfTtcblxuICBjb25zdCBpc1ZhbGlkTW92ZVNxdWFyZSA9IChyb3csIGNvbCkgPT4ge1xuICAgIHJldHVybiB2YWxpZE1vdmVzLnNvbWUobW92ZSA9PiBtb3ZlLnJvdyA9PT0gcm93ICYmIG1vdmUuY29sID09PSBjb2wpO1xuICB9O1xuXG4gIGNvbnN0IGdldEN1cnJlbnRQbGF5ZXJEaXNwbGF5ID0gKCkgPT4ge1xuICAgIGlmIChnYW1lPy5nYW1lVHlwZSA9PT0gJ0hVTUFOX1ZTX0FJJykge1xuICAgICAgaWYgKGdhbWUuY3VycmVudFBsYXllciA9PT0gJ1dISVRFJykge1xuICAgICAgICByZXR1cm4gJ1lvdXIgdHVybic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNBSVRoaW5raW5nID8gJ0FJIGlzIHRoaW5raW5nLi4uJyA6ICdBSVxcJ3MgdHVybic7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgJHtnYW1lPy5jdXJyZW50UGxheWVyfSdzIHR1cm5gO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpc0JvYXJkRGlzYWJsZWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGlzQUlUaGlua2luZyB8fCAoZ2FtZT8uZ2FtZVR5cGUgPT09ICdIVU1BTl9WU19BSScgJiYgYWlUdXJuRGF0YT8uaXNBSVR1cm4pO1xuICB9O1xuXG4gIGlmICghZ2FtZSkgcmV0dXJuIDxkaXY+TG9hZGluZy4uLjwvZGl2PjtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhbWUtaW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cnJlbnQtcGxheWVyXCI+XG4gICAgICAgICAge2dldEN1cnJlbnRQbGF5ZXJEaXNwbGF5KCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7Z2FtZS5nYW1lVHlwZSA9PT0gJ0hVTUFOX1ZTX0FJJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYW1lLXR5cGUtaW5mb1wiPlxuICAgICAgICAgICAgUGxheWluZyBhZ2FpbnN0IEFJICh7Z2FtZS5haURpZmZpY3VsdHk/LnRvTG93ZXJDYXNlKCl9KVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHttb3ZlRXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAncmVkJywgbWFyZ2luQm90dG9tOiAnMTBweCcgfX0+XG4gICAgICAgICAge21vdmVFcnJvcn1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGNoZXNzLWJvYXJkICR7aXNCb2FyZERpc2FibGVkKCkgPyAnZGlzYWJsZWQnIDogJyd9YH0+XG4gICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA4IH0sIChfLCByb3cpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17cm93fSBjbGFzc05hbWU9XCJjaGVzcy1yb3dcIj5cbiAgICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiA4IH0sIChfLCBjb2wpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcGllY2UgPSBnZXRQaWVjZUF0KHJvdywgY29sKTtcbiAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkU3F1YXJlICYmIHNlbGVjdGVkU3F1YXJlLnJvdyA9PT0gcm93ICYmIHNlbGVjdGVkU3F1YXJlLmNvbCA9PT0gY29sO1xuICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkTW92ZSA9IGlzVmFsaWRNb3ZlU3F1YXJlKHJvdywgY29sKTtcbiAgICAgICAgICAgICAgY29uc3QgaXNMaWdodCA9IChyb3cgKyBjb2wpICUgMiA9PT0gMDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAga2V5PXtjb2x9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjaGVzcy1zcXVhcmUgJHtpc0xpZ2h0ID8gJ2xpZ2h0JyA6ICdkYXJrJ30gJHtpc1NlbGVjdGVkID8gJ3NlbGVjdGVkJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTcXVhcmVDbGljayhyb3csIGNvbCl9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGlzQm9hcmREaXNhYmxlZCgpID8gJ25vdC1hbGxvd2VkJyA6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaXNCb2FyZERpc2FibGVkKCkgPyAwLjcgOiAxXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc1ZhbGlkTW92ZSAmJiA8ZGl2IGNsYXNzTmFtZT1cInZhbGlkLW1vdmUtb3ZlcmxheVwiPjwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgIHtwaWVjZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInBpZWNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2dldFBpZWNlU3ltYm9sKHBpZWNlKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7aXNBSVRoaW5raW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhaS10aGlua2luZy1pbmRpY2F0b3JcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwaW5uZXJcIj48L2Rpdj5cbiAgICAgICAgICA8c3Bhbj5BSSBpcyB0aGlua2luZy4uLjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5nYW1lLWluZm8ge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1cnJlbnQtcGxheWVyIHtcbiAgICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmdhbWUtdHlwZS1pbmZvIHtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgY29sb3I6ICM2NjY7XG4gICAgICAgIH1cblxuICAgICAgICAuY2hlc3MtYm9hcmQuZGlzYWJsZWQge1xuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLmFpLXRoaW5raW5nLWluZGljYXRvciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgY29sb3I6ICM2NjY7XG4gICAgICAgIH1cblxuICAgICAgICAuc3Bpbm5lciB7XG4gICAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNmM2YzZjM7XG4gICAgICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICMwMDdiZmY7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XG4gICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hlc3NCb2FyZDsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNdXRhdGlvbiIsInVzZVF1ZXJ5IiwiZ3FsIiwiTUFLRV9NT1ZFIiwiR0VUX0dBTUUiLCJJU19BSV9UVVJOIiwiQ2hlc3NCb2FyZCIsImdhbWUiLCJnYW1lSWQiLCJvbk1vdmVDb21wbGV0ZSIsInNlbGVjdGVkU3F1YXJlIiwic2V0U2VsZWN0ZWRTcXVhcmUiLCJ2YWxpZE1vdmVzIiwic2V0VmFsaWRNb3ZlcyIsIm1vdmVFcnJvciIsInNldE1vdmVFcnJvciIsImlzQUlUaGlua2luZyIsInNldElzQUlUaGlua2luZyIsIm1ha2VNb3ZlIiwibG9hZGluZyIsIm1vdmVMb2FkaW5nIiwiZGF0YSIsImFpVHVybkRhdGEiLCJyZWZldGNoIiwicmVmZXRjaEFJVHVybiIsInZhcmlhYmxlcyIsInNraXAiLCJnYW1lVHlwZSIsInBvbGxJbnRlcnZhbCIsInN0YXR1cyIsInJlZmV0Y2hHYW1lIiwiZmV0Y2hQb2xpY3kiLCJpc0FJVHVybiIsImNvbnNvbGUiLCJsb2ciLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImdhbWVSZXN1bHQiLCJlcnJvciIsImNsZWFyVGltZW91dCIsImhhbmRsZVNxdWFyZUNsaWNrIiwicm93IiwiY29sIiwicGllY2UiLCJnZXRQaWVjZUF0IiwiY3VycmVudFBsYXllciIsImNvbG9yIiwiZ2V0VmFsaWRNb3Zlc0ZvclBpZWNlIiwicmVzdWx0IiwiZnJvbVJvdyIsImZyb21Db2wiLCJ0b1JvdyIsInRvQ29sIiwibW92ZXMiLCJyIiwiYyIsImlzVmFsaWRNb3ZlUGF0dGVybiIsImlzTGVnYWxNb3ZlIiwicHVzaCIsInNpbXVsYXRlZEdhbWUiLCJzaW11bGF0ZU1vdmUiLCJpc0tpbmdJbkNoZWNrIiwicGllY2VzIiwibmV3UGllY2VzIiwibWFwIiwicGllY2VJbmRleCIsImZpbmRJbmRleCIsInAiLCJjYXB0dXJlZEluZGV4Iiwic3BsaWNlIiwiZ2FtZVN0YXRlIiwia2luZ0NvbG9yIiwia2luZyIsImZpbmQiLCJ0eXBlIiwib3Bwb25lbnRDb2xvciIsIm9wcG9uZW50UGllY2VzIiwiZmlsdGVyIiwiY2FuUGllY2VBdHRhY2tTcXVhcmUiLCJ0YXJnZXRSb3ciLCJ0YXJnZXRDb2wiLCJyb3dEaWZmIiwiTWF0aCIsImFicyIsImNvbERpZmYiLCJkaXJlY3Rpb24iLCJyb3dEaWZmU2lnbmVkIiwiaXNQYXRoQ2xlYXJJbkdhbWUiLCJyb3dTdGVwIiwic2lnbiIsImNvbFN0ZXAiLCJjdXJyZW50Um93IiwiY3VycmVudENvbCIsInRhcmdldFBpZWNlIiwiaGFzTW92ZWQiLCJpc1BhdGhDbGVhclNpbXBsZSIsImdldFBpZWNlU3ltYm9sIiwicGllY2VTeW1ib2xzIiwiaXNWYWxpZE1vdmVTcXVhcmUiLCJzb21lIiwibW92ZSIsImdldEN1cnJlbnRQbGF5ZXJEaXNwbGF5IiwiaXNCb2FyZERpc2FibGVkIiwiZGl2IiwiYWlEaWZmaWN1bHR5IiwidG9Mb3dlckNhc2UiLCJzdHlsZSIsIm1hcmdpbkJvdHRvbSIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJpc1NlbGVjdGVkIiwiaXNWYWxpZE1vdmUiLCJpc0xpZ2h0Iiwib25DbGljayIsImN1cnNvciIsIm9wYWNpdHkiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ChessBoard.js\n"));

/***/ })

});